(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods/add/add"],{"0620":function(t,n,e){},"3df1":function(t,n,e){"use strict";e.r(n);var i=e("a9ef"),o=e("cd01");for(var a in o)"default"!==a&&function(t){e.d(n,t,(function(){return o[t]}))}(a);e("ab86");var u,r=e("f0c5"),c=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],u);n["default"]=c.exports},a0f9:function(t,n,e){"use strict";(function(t){function e(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function i(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach((function(n){o(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}return t}function o(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a={data:function(){var t;return{form:(t={name:"",brand_name:"",brand_id:"",location:"",location2:"",cost_price:"",sales_price:"",filing_name:"",filing_no:""},o(t,"brand_name",""),o(t,"barcode",""),o(t,"weight",""),t),data:"",edit:"",button_text:"",page:1,showClient:!1,clientList:[],username:"",total:""}},onLoad:function(n){var e=this;this.edit=n,n.data?(t.setNavigationBarTitle({title:"编辑商品"}),this.button_text="确定修改",this.data=JSON.parse(decodeURIComponent(n.data)),this.http({url:this.api.goods_detail,method:"POST",data:{uid:this.common.get("uid"),id:this.data},success:function(t){e.form=t}})):this.button_text="确定添加"},methods:{openModal:function(t){this.showClient=!0,this.clientInList()},closeModal:function(t){this.showClient=!1,this.page=1},searchClient:function(){this.clientInList()},handlePage:function(t){this.page=t.current,this.clientInList()},clientInList:function(){var t=this;this.http({url:this.api.goods_brand_list,method:"POST",data:{uid:this.common.get("uid"),name:this.username,page:this.page-1,length:20},success:function(n){t.clientList=n.list,t.total=n.total}})},selectClient:function(t){this.form.brand_id=this.clientList[t].id,this.form.brand_name=this.clientList[t].name,this.showClient=!1,this.page=1},previous:function(){var n=getCurrentPages(),e=n[n.length-2];t.navigateBack({success:function(){e.onLoad()}})},add:function(){var n=this;t.showModal({title:"提示",content:"确定当前操作吗？",success:function(e){e.confirm&&n.http({url:n.api.goods_submit,method:"POST",data:i({uid:n.common.get("uid")},n.form),success:function(e){t.showToast({title:"编辑成功",icon:"none",duration:2e3}),setTimeout((function(){n.previous()}),500)}})},fail:function(){},complete:function(){}})}}};n.default=a}).call(this,e("d5d0")["default"])},a9ef:function(t,n,e){"use strict";e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return i}));var i={uniEasyinput:function(){return e.e("uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput").then(e.bind(null,"d1ee"))},uniPagination:function(){return Promise.all([e.e("common/vendor"),e.e("uni_modules/uni-pagination/components/uni-pagination/uni-pagination")]).then(e.bind(null,"a247"))}},o=function(){var t=this,n=t.$createElement;t._self._c},a=[]},ab86:function(t,n,e){"use strict";var i=e("0620"),o=e.n(i);o.a},cd01:function(t,n,e){"use strict";e.r(n);var i=e("a0f9"),o=e.n(i);for(var a in i)"default"!==a&&function(t){e.d(n,t,(function(){return i[t]}))}(a);n["default"]=o.a},d8b8:function(t,n,e){"use strict";(function(t){e("cd70");i(e("dc04"));var n=i(e("3df1"));function i(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=e,t(n.default)}).call(this,e("97ff")["createPage"])}},[["d8b8","common/runtime","common/vendor"]]]);